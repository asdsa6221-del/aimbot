--// Full Admin Panel Script with WalkSpeed + FlySpeed + Enemy Lock + Hitbox Breaker + Improved UI
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Camera = workspace.CurrentCamera

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "AdminPanel"
ScreenGui.IgnoreGuiInset = true
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.DisplayOrder = 999

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 250, 0, 500)
Frame.Position = UDim2.new(0, 50, 0, 50)
Frame.BackgroundColor3 = Color3.fromRGB(65,105,225) -- royal blue
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1,0,0,50)
Title.Text = "Adams PremiumðŸ‘‘"
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 24

-- WalkSpeed
local defaultWalkSpeed = 16
local SpeedLabel = Instance.new("TextLabel", Frame)
SpeedLabel.Position = UDim2.new(0,10,0,60)
SpeedLabel.Size = UDim2.new(0.5,-15,0,30)
SpeedLabel.Text = "WalkSpeed:"
SpeedLabel.BackgroundTransparency = 1
SpeedLabel.TextColor3 = Color3.fromRGB(255,255,255)
SpeedLabel.Font = Enum.Font.SourceSans
SpeedLabel.TextSize = 18
SpeedLabel.TextXAlignment = Enum.TextXAlignment.Left

local SpeedBox = Instance.new("TextBox", Frame)
SpeedBox.Position = UDim2.new(0.5,5,0,60)
SpeedBox.Size = UDim2.new(0.5,-15,0,30)
SpeedBox.PlaceholderText = tostring(defaultWalkSpeed)
SpeedBox.Text = ""
SpeedBox.ClearTextOnFocus = false
SpeedBox.BackgroundColor3 = Color3.fromRGB(70,70,70)
SpeedBox.TextColor3 = Color3.new(1,1,1)
SpeedBox.Font = Enum.Font.SourceSans
SpeedBox.TextSize = 18

SpeedBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local value = tonumber(SpeedBox.Text)
        if value and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
            LocalPlayer.Character.Humanoid.WalkSpeed = value
        end
    end
end)

-- FlySpeed
local defaultFlySpeed = 50
local FlySpeedLabel = Instance.new("TextLabel", Frame)
FlySpeedLabel.Position = UDim2.new(0,10,0,100)
FlySpeedLabel.Size = UDim2.new(0.5,-15,0,30)
FlySpeedLabel.Text = "FlySpeed:"
FlySpeedLabel.BackgroundTransparency = 1
FlySpeedLabel.TextColor3 = Color3.fromRGB(255,255,255)
FlySpeedLabel.Font = Enum.Font.SourceSans
FlySpeedLabel.TextSize = 18
FlySpeedLabel.TextXAlignment = Enum.TextXAlignment.Left

local FlySpeedBox = Instance.new("TextBox", Frame)
FlySpeedBox.Position = UDim2.new(0.5,5,0,100)
FlySpeedBox.Size = UDim2.new(0.5,-15,0,30)
FlySpeedBox.PlaceholderText = tostring(defaultFlySpeed)
FlySpeedBox.Text = ""
FlySpeedBox.ClearTextOnFocus = false
FlySpeedBox.BackgroundColor3 = Color3.fromRGB(70,70,70)
FlySpeedBox.TextColor3 = Color3.new(1,1,1)
FlySpeedBox.Font = Enum.Font.SourceSans
FlySpeedBox.TextSize = 18

local flySpeed = defaultFlySpeed

FlySpeedBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local value = tonumber(FlySpeedBox.Text)
        if value then
            flySpeed = value
        end
    end
end)

-- Infinite Jump
local infiniteJump = false
local JumpButton = Instance.new("TextButton", Frame)
JumpButton.Position = UDim2.new(0,10,0,150)
JumpButton.Size = UDim2.new(1,-20,0,40)
JumpButton.Text = "Toggle Infinite Jump"
JumpButton.BackgroundColor3 = Color3.fromRGB(70,70,70)
JumpButton.TextColor3 = Color3.new(1,1,1)

JumpButton.MouseButton1Click:Connect(function()
    infiniteJump = not infiniteJump
    JumpButton.BackgroundColor3 = infiniteJump and Color3.fromRGB(0,255,0) or Color3.fromRGB(70,70,70)
end)

UserInputService.JumpRequest:Connect(function()
    if infiniteJump and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- Fly
local flyEnabled = false
local flyButton = Instance.new("TextButton", Frame)
flyButton.Position = UDim2.new(0,10,0,200)
flyButton.Size = UDim2.new(1,-20,0,40)
flyButton.Text = "Toggle Fly"
flyButton.BackgroundColor3 = Color3.fromRGB(70,70,70)
flyButton.TextColor3 = Color3.new(1,1,1)

local keysDown = {}

flyButton.MouseButton1Click:Connect(function()
    flyEnabled = not flyEnabled
    flyButton.BackgroundColor3 = flyEnabled and Color3.fromRGB(0,255,0) or Color3.fromRGB(70,70,70)
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.PlatformStand = flyEnabled
    end
end)

UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end
    if input.UserInputType == Enum.UserInputType.Keyboard then
        keysDown[input.KeyCode] = true
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Keyboard then
        keysDown[input.KeyCode] = false
    end
end)

-- ESP
local espEnabled = false
local espBoxes = {}

local ESPButton = Instance.new("TextButton", Frame)
ESPButton.Position = UDim2.new(0,10,0,250)
ESPButton.Size = UDim2.new(1,-20,0,40)
ESPButton.Text = "Toggle ESP"
ESPButton.BackgroundColor3 = Color3.fromRGB(70,70,70)
ESPButton.TextColor3 = Color3.new(1,1,1)

local function createESP(player)
    if player == LocalPlayer then return end
    local function buildBox(char)
        if not char or not char:FindFirstChild("HumanoidRootPart") then return end
        local box = Instance.new("BoxHandleAdornment")
        box.Adornee = char.HumanoidRootPart
        box.Color3 = Color3.fromRGB(255,0,0)
        box.Transparency = 0.5
        box.Size = Vector3.new(4,6,2)
        box.AlwaysOnTop = true
        box.ZIndex = 10
        box.Parent = workspace
        espBoxes[player] = box
    end
    buildBox(player.Character)
    player.CharacterAdded:Connect(function(newChar)
        task.wait(0.1)
        if espEnabled then
            if espBoxes[player] then espBoxes[player]:Destroy() end
            buildBox(newChar)
        end
    end)
    player.AncestryChanged:Connect(function(_, parent)
        if not parent and espBoxes[player] then
            espBoxes[player]:Destroy()
            espBoxes[player] = nil
        end
    end)
end

ESPButton.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    ESPButton.BackgroundColor3 = espEnabled and Color3.fromRGB(0,255,0) or Color3.fromRGB(70,70,70)
    if espEnabled then
        for _, player in pairs(Players:GetPlayers()) do
            createESP(player)
        end
        Players.PlayerAdded:Connect(createESP)
    else
        for _, box in pairs(espBoxes) do
            if box then box:Destroy() end
        end
        espBoxes = {}
    end
end)

-- Lock-On
local lockOn = false
local LockButton = Instance.new("TextButton", Frame)
LockButton.Position = UDim2.new(0,10,0,300)
LockButton.Size = UDim2.new(1,-20,0,40)
LockButton.Text = "Toggle Lock-On"
LockButton.BackgroundColor3 = Color3.fromRGB(70,70,70)
LockButton.TextColor3 = Color3.new(1,1,1)

LockButton.MouseButton1Click:Connect(function()
    lockOn = not lockOn
    LockButton.BackgroundColor3 = lockOn and Color3.fromRGB(0,255,0) or Color3.fromRGB(70,70,70)
end)

local function getNearestPlayer()
    local nearest = nil
    local shortestDistance = math.huge
    local lpChar = LocalPlayer.Character
    if not lpChar or not lpChar:FindFirstChild("HumanoidRootPart") then return nil end
    local lpPos = lpChar.HumanoidRootPart.Position
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local distance = (player.Character.HumanoidRootPart.Position - lpPos).Magnitude
            if distance < shortestDistance then
                shortestDistance = distance
                nearest = player
            end
        end
    end
    return nearest
end

-- Enemy Lock-On (ARS)
local enemyLockOn = false
local EnemyLockButton = Instance.new("TextButton", Frame)
EnemyLockButton.Position = UDim2.new(0,10,0,350)
EnemyLockButton.Size = UDim2.new(1,-20,0,40)
EnemyLockButton.Text = "Toggle Enemy Lock"
EnemyLockButton.BackgroundColor3 = Color3.fromRGB(70,70,70) -- grey by default
EnemyLockButton.TextColor3 = Color3.new(1,1,1)

EnemyLockButton.MouseButton1Click:Connect(function()
    enemyLockOn = not enemyLockOn
    EnemyLockButton.BackgroundColor3 = enemyLockOn and Color3.fromRGB(0,255,0) or Color3.fromRGB(70,70,70)
end)

local function getNearestEnemy()
    local nearest = nil
    local shortestDistance = math.huge
    local lpChar = LocalPlayer.Character
    if not lpChar or not lpChar:FindFirstChild("HumanoidRootPart") then return nil end
    local lpPos = lpChar.HumanoidRootPart.Position
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Team ~= LocalPlayer.Team and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local distance = (player.Character.HumanoidRootPart.Position - lpPos).Magnitude
            if distance < shortestDistance then
                shortestDistance = distance
                nearest = player
            end
        end
    end
    return nearest
end

-- Hitbox Breaker / Spin + Lay Down
local hitboxBreaker = false
local HitboxButton = Instance.new("TextButton", Frame)
HitboxButton.Position = UDim2.new(0,10,0,400)
HitboxButton.Size = UDim2.new(1,-20,0,40)
HitboxButton.Text = "Hitbox Breaker"
HitboxButton.BackgroundColor3 = Color3.fromRGB(70,70,70)
HitboxButton.TextColor3 = Color3.new(1,1,1)

HitboxButton.MouseButton1Click:Connect(function()
    hitboxBreaker = not hitboxBreaker
    HitboxButton.BackgroundColor3 = hitboxBreaker and Color3.fromRGB(0,255,0) or Color3.fromRGB(70,70,70)
end)

-- AutoNoClip
local autoNoClipEnabled = false
local NoClipButton = Instance.new("TextButton", Frame)
NoClipButton.Position = UDim2.new(0,10,0,450)
NoClipButton.Size = UDim2.new(1,-20,0,40)
NoClipButton.Text = "Toggle AutoNoClip"
NoClipButton.BackgroundColor3 = Color3.fromRGB(70,70,70)
NoClipButton.TextColor3 = Color3.new(1,1,1)

NoClipButton.MouseButton1Click:Connect(function()
    autoNoClipEnabled = not autoNoClipEnabled
    NoClipButton.BackgroundColor3 = autoNoClipEnabled and Color3.fromRGB(0,255,0) or Color3.fromRGB(70,70,70)
end)

-- Bottom Info Text
local InfoLabel = Instance.new("TextLabel", Frame)
InfoLabel.Size = UDim2.new(1, -20, 0, 80)
InfoLabel.Position = UDim2.new(0, 10, 1, -10) -- slightly lower
InfoLabel.Text = "REVOLVER= AIMBOT\nPISTOL= AIMBOT"
InfoLabel.TextColor3 = Color3.new(1,1,1)
InfoLabel.BackgroundTransparency = 1
InfoLabel.Font = Enum.Font.SourceSansBold
InfoLabel.TextSize = 20
InfoLabel.TextWrapped = true
InfoLabel.TextYAlignment = Enum.TextYAlignment.Top

-- Main Loop
RunService.RenderStepped:Connect(function()
    local char = LocalPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    local hrp = char.HumanoidRootPart

    -- Fly
    if flyEnabled then
        local camCFrame = Camera.CFrame
        local direction = Vector3.new(0,0,0)
        if keysDown[Enum.KeyCode.W] then direction = direction + camCFrame.LookVector end
        if keysDown[Enum.KeyCode.S] then direction = direction - camCFrame.LookVector end
        if keysDown[Enum.KeyCode.A] then direction = direction - camCFrame.RightVector end
        if keysDown[Enum.KeyCode.D] then direction = direction + camCFrame.RightVector end
        if keysDown[Enum.KeyCode.Space] then direction = direction + Vector3.new(0,1,0) end
        if keysDown[Enum.KeyCode.LeftShift] then direction = direction + Vector3.new(0,-1,0) end
        if direction.Magnitude > 0 then
            hrp.Velocity = direction.Unit * flySpeed
        else
            hrp.Velocity = Vector3.new(0,0,0)
        end
    end

    -- Regular Lock-On
    if lockOn then
        local target = getNearestPlayer()
        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
            local targetPos = target.Character.HumanoidRootPart.Position
            local lookVector = (Vector3.new(targetPos.X, hrp.Position.Y, targetPos.Z) - hrp.Position).Unit
            hrp.CFrame = CFrame.new(hrp.Position, hrp.Position + lookVector)
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, targetPos + Vector3.new(0,1.5,0))
        end
    end

    -- Enemy Lock-On
    if enemyLockOn then
        local target = getNearestEnemy()
        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
            local targetPos = target.Character.HumanoidRootPart.Position
            local lookVector = (Vector3.new(targetPos.X, hrp.Position.Y, targetPos.Z) - hrp.Position).Unit
            hrp.CFrame = CFrame.new(hrp.Position, hrp.Position + lookVector)
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, targetPos + Vector3.new(0,1.5,0))
        end
    end

    -- Hitbox Breaker
    if hitboxBreaker then
        hrp.CFrame = hrp.CFrame * CFrame.Angles(0, math.rad(50), 0) -- spin 50 speed
        if char:FindFirstChild("Humanoid") then
            char.Humanoid.Sit = true -- lay down
        end
    end

    -- AutoNoClip
    if autoNoClipEnabled then
        for _, part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)
